<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/public/images/favicon.ico">
    
    <title>Arch Linux ARM</title>
    
    <link rel="stylesheet" type="text/css" href="/public/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/jquery.smartmenus.bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/custom.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/dataTables.bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/default.min.css"/>
    
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript" src="/public/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript" src="/public/js/jquery.smartmenus.min.js"></script>
    <script type="text/javascript" src="/public/js/jquery.smartmenus.bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/datatables.min.js"></script>
    <script type="text/javascript" src="/public/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/highlight.pack.js"></script>
    <script type="text/javascript" src="/public/js/bootstrap-typeahead.min.js"></script>
    <script>hljs.configure({languages: []});hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="/public/js/date.format.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/public/images/alarm.png"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav sm">
                    <li><a href="/about">About</a>
                      <ul class="dropdown-menu">
                    <li><a href="/about/contact">Contact</a></li>
                    <li><a href="/about/donate">Donate</a></li>
                    <li><a href="/about/downloads">Downloads</a></li>
                    <li><a href="/about/mirrors">Mirrors</a></li>
                    <li><a href="/about/package-signing">Package Signing</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms">Platforms</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv5">ARMv5</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv5/arietta-g25">Arietta G25</a></li>
                    <li><a href="/platforms/armv5/guruplug-display">Guruplug Display</a></li>
                    <li><a href="/platforms/armv5/olinuxino">OLinuXino</a></li>
                    <li><a href="/platforms/armv5/openrd">OpenRD</a></li>
                    <li><a href="/platforms/armv5/pogoplug-series-4">Pogoplug Series 4</a></li>
                    <li><a href="/platforms/armv5/pogoplug-v2-pinkgray">Pogoplug v2 (Pink/Gray)</a></li>
                    <li><a href="/platforms/armv5/seagate-dockstar">Seagate DockStar</a></li>
                    <li><a href="/platforms/armv5/seagate-goflex-home">Seagate GoFlex Home</a></li>
                    <li><a href="/platforms/armv5/seagate-goflex-net">Seagate GoFlex Net</a></li>
                    <li><a href="/platforms/armv5/sheevaplug">SheevaPlug</a></li>
                    <li><a href="/platforms/armv5/tonidoplug">TonidoPlug</a></li>
                    <li><a href="/platforms/armv5/tonidoplug-2">TonidoPlug 2</a></li>
                    <li><a href="/platforms/armv5/zyxel-nsa320">ZyXEL NSA320</a></li>
                    <li><a href="/platforms/armv5/zyxel-nsa325">ZyXEL NSA325</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv6">ARMv6</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv6/raspberry-pi">Raspberry Pi</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7">ARMv7</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/allwinner">AllWinner</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/allwinner/a10-olinuxino-lime">A10 OlinuXino Lime</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-lime">A20 OlinuXino Lime</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-lime2">A20 OlinuXino Lime2</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-micro">A20 OlinuXino Micro</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubieboard">Cubieboard</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubieboard-2">Cubieboard 2</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubietruck">Cubietruck</a></li>
                    <li><a href="/platforms/armv7/allwinner/pcduino3">pcDuino3</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/amlogic">Amlogic</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/amlogic/odroid-c1">ODROID-C1</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/arm">ARM</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/arm/versatile-express">Versatile Express</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/broadcom">Broadcom</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/broadcom/raspberry-pi-2">Raspberry Pi 2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/freescale">Freescale</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/freescale/cubox-i">CuBox-i</a></li>
                    <li><a href="/platforms/armv7/freescale/nitrogen6x">Nitrogen6X</a></li>
                    <li><a href="/platforms/armv7/freescale/udoo">UDOO</a></li>
                    <li><a href="/platforms/armv7/freescale/usb-armory">USB Armory</a></li>
                    <li><a href="/platforms/armv7/freescale/utilite">Utilite</a></li>
                    <li><a href="/platforms/armv7/freescale/wandboard">Wandboard</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/marvell">Marvell</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/marvell/clearfog">ClearFog</a></li>
                    <li><a href="/platforms/armv7/marvell/cubox">CuBox</a></li>
                    <li><a href="/platforms/armv7/marvell/d3plug">D3Plug</a></li>
                    <li><a href="/platforms/armv7/marvell/mirabox">Mirabox</a></li>
                    <li><a href="/platforms/armv7/marvell/smile-plug">SMILE Plug</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/nvidia">nVidia</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/nvidia/trimslice">TrimSlice</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/rockchip">Rockchip</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/rockchip/asus-chromebit-cs10">Asus Chromebit CS10</a></li>
                    <li><a href="/platforms/armv7/rockchip/asus-chromebook-flip-c100p">Asus Chromebook Flip C100P</a></li>
                    <li><a href="/platforms/armv7/rockchip/hisense-chromebook-c11">Hisense Chromebook C11</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/samsung">Samsung</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/samsung/odroid-u2">ODROID-U2</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-u3">ODROID-U3</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-x">ODROID-X</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-x2">ODROID-X2</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu">ODROID-XU</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu3">ODROID-XU3</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu4">ODROID-XU4</a></li>
                    <li><a href="/platforms/armv7/samsung/samsung-chromebook">Samsung Chromebook</a></li>
                    <li><a href="/platforms/armv7/samsung/samsung-chromebook-2">Samsung Chromebook 2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/ti">TI</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/ti/beagleboard">BeagleBoard</a></li>
                    <li><a href="/platforms/armv7/ti/beagleboard-xm">BeagleBoard-xM</a></li>
                    <li><a href="/platforms/armv7/ti/beaglebone">BeagleBone</a></li>
                    <li><a href="/platforms/armv7/ti/beaglebone-black">BeagleBone Black</a></li>
                    <li><a href="/platforms/armv7/ti/chiliboard">ChiliBoard</a></li>
                    <li><a href="/platforms/armv7/ti/pandaboard">PandaBoard</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/xilinx">Xilinx</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/xilinx/zedboard">ZedBoard</a></li>
                      </ul>
                    </li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8">ARMv8</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/amlogic">Amlogic</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/amlogic/odroid-c2">ODROID-C2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/arm">ARM</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/arm/juno">Juno</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/broadcom">Broadcom</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/broadcom/raspberry-pi-3">Raspberry Pi 3</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/generic">Generic</a></li>
                      </ul>
                    </li>
                      </ul>
                    </li>
                    <li><a href="/packages">Packages</a></li>
                    <li><a href="/forum">Forum</a></li>
                    <li><a href="/wiki">Wiki</a></li>
          </ul>
          
          <ul class="nav navbar-nav navbar-right">
            <li>
                <a href="/login"><img src="/public/images/GitHub-Mark-16px.png">&nbsp;Sign In</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <h2 id="usbdrivecreation">USB Drive Creation</h2>

<ol><li>Create a single partition formatted ext3 on a USB drive.
<li>Download <a href="/os/ArchLinuxARM-d3plug-latest.tar.gz">the root filesystem tarball</a> and extract it (as root, not with sudo) to the ext3 partition on the USB drive. It is important to do this as root, as special files need to be created as part of the filesystem that can only be created by root.
<li>Safely unmount the drive, and insert it into the USB 2.0 slot on the back of the D3Plug (do not use the USB 3.0 ports).
</ol>

<h2 id="modifyu-bootenvironment">Modify U-Boot Environment</h2>

<ol><li>Connect a USB cable between your computer and the mini-USB port on the back of the D3Plug to establish a connection to the serial debug terminal.  Connect to it on your computer with the speed settings 115200-8n1.
<li>Power on the D3Plug, and interrupt the boot process when you see "Hit any key to stop autoboot: 3.. 2.. 1.. 0".  This will give you a terminal prompt that looks like "Marvell>>"
<li>Run these commands to set up booting from the USB 2.0 port:
<pre>setenv bootcmd 'usb start; ext2load usb 0 0x6400000 /boot/uImage; bootm 0x6400000'
setenv bootargs 'console=ttyS0,115200 root=/dev/sda1 rw rootwait pm_disable'
saveenv
reset</pre>
<li>After issuing <i>reset</i>, the plug will reboot and will boot into Arch Linux ARM located on the USB drive you created above.
</ol>

<h2 id="installtotheinternalsdcard">Install to the internal SD card</h2>

<p><b>Warning:</b> This will completely delete the stock filesystem that comes with the D3Plug!</p>

<ol><li>Start fdisk to partition the SD card:
<pre>fdisk /dev/mmcblk0</pre>
<li>At the fdisk prompt, delete old partitions and create a new one:
<ol style="list-style-type: lower-alpha"><li>Type <b>o</b>. This will clear out any partitions on the drive.
<li>Type <b>p</b> to list partitions. There should be no partitions left.
<li>Now type <b>n</b>, then <b>p</b> for primary, <b>1</b> for the first partition on the drive, and then press ENTER, accepting default values.
<li>Write the partition table and exit by typing <b>w</b>.</ol>
<li>Create and mount the ext3 filesystem:
<pre>mkfs.ext3 /dev/mmcblk0p1
mount /dev/mmcblk0p1 /mnt</pre>
<li>Install wget:<pre>pacman -Sy wget</pre>
<li>Download and reinstall the root filesystem:
<pre>wget http://os.archlinuxarm.org/os/ArchLinuxARM-d3plug-latest.tar.gz
tar -xf ArchLinuxARM-d3plug-latest.tar.gz -C /mnt
sync
umount /mnt</pre>
<li>Ensure you're connected to the serial debug terminal, then reboot.  Interrupt the boot process like above, and issue these commands to change the plug to boot from the internal SD card:
<pre>setenv bootcmd 'mmcinfo; ext2load mmc 0:1 0x6400000 /boot/uImage; bootm 0x6400000'
setenv bootargs 'console=ttyS0,115200 root=/dev/mmcblk0p1 rw rootwait pm_disable'
saveenv
reset</pre>
<li>After issuing <i>reset</i>, the plug will reboot and will boot into Arch Linux ARM located on the internal SD card.
<ul><li>Login as the default user <i>alarm</i> with the password <i>alarm</i>.
<li>The default root password is <i>root</i>.</ul>
</ol>

      <hr>
      <p class="small text-center text-muted">Copyright ©2009-2016 Arch Linux ARM<br>
      The registered trademark Linux® is used pursuant to a sublicense from LMI, the exclusive licensee of Linus Torvalds, owner of the mark on a world-wide basis.<br>
      The Arch Linux™ name and logo are used under permission of the Arch Linux Project Lead.<br></p>
    </div>

  </body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-24579207-1', 'auto');
    ga('send', 'pageview');
  </script>
</html>
