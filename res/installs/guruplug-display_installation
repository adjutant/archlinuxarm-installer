<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/public/images/favicon.ico">
    
    <title>Arch Linux ARM</title>
    
    <link rel="stylesheet" type="text/css" href="/public/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/jquery.smartmenus.bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/custom.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/dataTables.bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/public/css/default.min.css"/>
    
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript" src="/public/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript" src="/public/js/jquery.smartmenus.min.js"></script>
    <script type="text/javascript" src="/public/js/jquery.smartmenus.bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/datatables.min.js"></script>
    <script type="text/javascript" src="/public/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="/public/js/highlight.pack.js"></script>
    <script type="text/javascript" src="/public/js/bootstrap-typeahead.min.js"></script>
    <script>hljs.configure({languages: []});hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="/public/js/date.format.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/public/images/alarm.png"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav sm">
                    <li><a href="/about">About</a>
                      <ul class="dropdown-menu">
                    <li><a href="/about/contact">Contact</a></li>
                    <li><a href="/about/donate">Donate</a></li>
                    <li><a href="/about/downloads">Downloads</a></li>
                    <li><a href="/about/mirrors">Mirrors</a></li>
                    <li><a href="/about/package-signing">Package Signing</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms">Platforms</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv5">ARMv5</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv5/arietta-g25">Arietta G25</a></li>
                    <li><a href="/platforms/armv5/guruplug-display">Guruplug Display</a></li>
                    <li><a href="/platforms/armv5/olinuxino">OLinuXino</a></li>
                    <li><a href="/platforms/armv5/openrd">OpenRD</a></li>
                    <li><a href="/platforms/armv5/pogoplug-series-4">Pogoplug Series 4</a></li>
                    <li><a href="/platforms/armv5/pogoplug-v2-pinkgray">Pogoplug v2 (Pink/Gray)</a></li>
                    <li><a href="/platforms/armv5/seagate-dockstar">Seagate DockStar</a></li>
                    <li><a href="/platforms/armv5/seagate-goflex-home">Seagate GoFlex Home</a></li>
                    <li><a href="/platforms/armv5/seagate-goflex-net">Seagate GoFlex Net</a></li>
                    <li><a href="/platforms/armv5/sheevaplug">SheevaPlug</a></li>
                    <li><a href="/platforms/armv5/tonidoplug">TonidoPlug</a></li>
                    <li><a href="/platforms/armv5/tonidoplug-2">TonidoPlug 2</a></li>
                    <li><a href="/platforms/armv5/zyxel-nsa320">ZyXEL NSA320</a></li>
                    <li><a href="/platforms/armv5/zyxel-nsa325">ZyXEL NSA325</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv6">ARMv6</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv6/raspberry-pi">Raspberry Pi</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7">ARMv7</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/allwinner">AllWinner</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/allwinner/a10-olinuxino-lime">A10 OlinuXino Lime</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-lime">A20 OlinuXino Lime</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-lime2">A20 OlinuXino Lime2</a></li>
                    <li><a href="/platforms/armv7/allwinner/a20-olinuxino-micro">A20 OlinuXino Micro</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubieboard">Cubieboard</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubieboard-2">Cubieboard 2</a></li>
                    <li><a href="/platforms/armv7/allwinner/cubietruck">Cubietruck</a></li>
                    <li><a href="/platforms/armv7/allwinner/pcduino3">pcDuino3</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/amlogic">Amlogic</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/amlogic/odroid-c1">ODROID-C1</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/arm">ARM</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/arm/versatile-express">Versatile Express</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/broadcom">Broadcom</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/broadcom/raspberry-pi-2">Raspberry Pi 2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/freescale">Freescale</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/freescale/cubox-i">CuBox-i</a></li>
                    <li><a href="/platforms/armv7/freescale/nitrogen6x">Nitrogen6X</a></li>
                    <li><a href="/platforms/armv7/freescale/udoo">UDOO</a></li>
                    <li><a href="/platforms/armv7/freescale/usb-armory">USB Armory</a></li>
                    <li><a href="/platforms/armv7/freescale/utilite">Utilite</a></li>
                    <li><a href="/platforms/armv7/freescale/wandboard">Wandboard</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/marvell">Marvell</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/marvell/clearfog">ClearFog</a></li>
                    <li><a href="/platforms/armv7/marvell/cubox">CuBox</a></li>
                    <li><a href="/platforms/armv7/marvell/d3plug">D3Plug</a></li>
                    <li><a href="/platforms/armv7/marvell/mirabox">Mirabox</a></li>
                    <li><a href="/platforms/armv7/marvell/smile-plug">SMILE Plug</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/nvidia">nVidia</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/nvidia/trimslice">TrimSlice</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/rockchip">Rockchip</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/rockchip/asus-chromebit-cs10">Asus Chromebit CS10</a></li>
                    <li><a href="/platforms/armv7/rockchip/asus-chromebook-flip-c100p">Asus Chromebook Flip C100P</a></li>
                    <li><a href="/platforms/armv7/rockchip/hisense-chromebook-c11">Hisense Chromebook C11</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/samsung">Samsung</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/samsung/odroid-u2">ODROID-U2</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-u3">ODROID-U3</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-x">ODROID-X</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-x2">ODROID-X2</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu">ODROID-XU</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu3">ODROID-XU3</a></li>
                    <li><a href="/platforms/armv7/samsung/odroid-xu4">ODROID-XU4</a></li>
                    <li><a href="/platforms/armv7/samsung/samsung-chromebook">Samsung Chromebook</a></li>
                    <li><a href="/platforms/armv7/samsung/samsung-chromebook-2">Samsung Chromebook 2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/ti">TI</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/ti/beagleboard">BeagleBoard</a></li>
                    <li><a href="/platforms/armv7/ti/beagleboard-xm">BeagleBoard-xM</a></li>
                    <li><a href="/platforms/armv7/ti/beaglebone">BeagleBone</a></li>
                    <li><a href="/platforms/armv7/ti/beaglebone-black">BeagleBone Black</a></li>
                    <li><a href="/platforms/armv7/ti/chiliboard">ChiliBoard</a></li>
                    <li><a href="/platforms/armv7/ti/pandaboard">PandaBoard</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv7/xilinx">Xilinx</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv7/xilinx/zedboard">ZedBoard</a></li>
                      </ul>
                    </li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8">ARMv8</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/amlogic">Amlogic</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/amlogic/odroid-c2">ODROID-C2</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/arm">ARM</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/arm/juno">Juno</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/broadcom">Broadcom</a>
                      <ul class="dropdown-menu">
                    <li><a href="/platforms/armv8/broadcom/raspberry-pi-3">Raspberry Pi 3</a></li>
                      </ul>
                    </li>
                    <li><a href="/platforms/armv8/generic">Generic</a></li>
                      </ul>
                    </li>
                      </ul>
                    </li>
                    <li><a href="/packages">Packages</a></li>
                    <li><a href="/forum">Forum</a></li>
                    <li><a href="/wiki">Wiki</a></li>
          </ul>
          
          <ul class="nav navbar-nav navbar-right">
            <li>
                <a href="/login"><img src="/public/images/GitHub-Mark-16px.png">&nbsp;Sign In</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <h2 id="upgradeu-boot">Upgrade U-Boot</h2>

<ol><li>Download <a href="http://os.archlinuxarm.org/os/mmp/boot/u-boot.bin">u-boot.bin</a> onto a FAT formatted USB thumb drive or micro SD card.
<li>Plug the USB drive into one of the USB ports, or plug the micro SD card into the slot on the side of the plug.  Use the SD slot closest to the small hole where the reset button is.
<li>Connect a mini USB cable to the port above the ethernet jack, and the other end to your computer.  On your computer, this will create a serial device (such as <i>/dev/ttyUSB0</i> on Linux).
<li>Connect to this port with a terminal on Linux, or a program such as Putty on Windows, with a baud rate of 115200bps.
<li>Apply power to the plug, and hit any key to stop the auto boot.  You will get a prompt like: Marvell>>
<li>Prepare the RAM location:
<pre>mw.b 0x500000 0xff 0x40000</pre>
<li>Load the u-boot.bin file into memory by running the following commands for where you've stored u-boot.bin:
<ul><li>From a USB drive:
<pre>usb start
fatload usb 0 0x500000 u-boot.bin</pre>
<li>From a micro SD card:
<pre>mmc rescan
fatload mmc 0 0x500000 u-boot.bin</pre></ul>
<li>After loading, you should see a message similar to the following.  <b>Do not continue if u-boot.bin does not load correctly</b>
<pre>224396 bytes read</pre>
<li>Write the new U-Boot to flash:
<pre>sf probe 110
sf erase 0x10000 0x40000
sf erase 0x7c000 0x4000
sf write 0x500000 0x10000 0x40000
reset</pre>
<li>After rebooting, interrupt the auto boot again to get to the prompt.
<li>Set the following environment variables for where you want to install the root filesystem to:
<ul><li>From a USB drive:
<pre>setenv bootargs 'root=/dev/sda1 console=ttyS2,115200 uart_dma rootwait rw'
setenv bootcmd 'usb start; ext4load usb 0:1 0x500000 /boot/zImage; bootz 0x0500000'
saveenv</pre>
<li>From a micro SD card:
<pre>setenv bootargs 'root=/dev/mmcblk0p1 console=ttyS2,115200 uart_dma rootwait rw'
setenv bootcmd 'mmc rescan; ext4load mmc 0:1 0x500000 /boot/zImage; bootz 0x0500000'
saveenv</pre></ul>
</ol>

<h2 id="installtoausbdriveormicrosdcard">Install to a USB drive or micro SD card</h2>

<p>Replace <b>sdX</b> in the following instructions with the device name for the SD card as it appears on your computer.</p>

<ol><li>Start fdisk to partition the drive:
<pre>fdisk /dev/sdX</pre>
<li>At the fdisk prompt, delete old partitions and create a new one:
<ol style="list-style-type: lower-alpha"><li>Type <b>o</b>. This will clear out any partitions on the drive.
<li>Type <b>p</b> to list partitions. There should be no partitions left.
<li>Now type <b>n</b>, then <b>p</b> for primary, <b>1</b> for the first partition on the drive, and then press ENTER twice to accept the default sectors.
<li>Write the partition table and exit by typing <b>w</b>.</ol>
<li>Create and mount the ext4 filesystem:
<pre>mkfs.ext4 /dev/sdX1
mkdir mnt
mount /dev/sdX1 mnt</pre>
<li>Download and extract the root filesystem (as root, not via sudo):
<pre>wget http://os.archlinuxarm.org/os/ArchLinuxARM-mmp-latest.tar.gz
bsdtar -xpf ArchLinuxARM-mmp-latest.tar.gz -C mnt
umount mnt</pre>
<li>Plug the USB drive into one of the USB ports, or plug the micro SD card into the slot on the side of the plug.  Use the SD slot closest to the small hole where the reset button is.
<li>Type <i>reset</i> at the U-Boot prompt, press the reset button, or remove and reapply power to restart the plug.  It will now boot into Arch Linux ARM.
<ul><li>Login as the default user <i>alarm</i> with the password <i>alarm</i>.
<li>The default root password is <i>root</i>.</ul>
</ol>

<h2 id="installtotheinternalmicrosdstorage">Install to the internal micro SD storage</h2>

<p>If you've booted with USB, replace <b>mmcblkX</b> in the following instructions with <b>mmcblk0</b>.
If you've booted with micro SD, replace it with <b>mmcblk1</b>.</p>

<ol><li>The Guruplug Display contains an internal 8GB micro SD card that the root filesystem can be installed to.  First, boot into Arch Linux ARM via USB or micro SD with the above steps.
<li>Start fdisk to partition the card:
<pre>fdisk /dev/mmcblkX</pre>
<li>At the fdisk prompt, delete old partitions and create a new one:
<ol style="list-style-type: lower-alpha"><li>Type <b>o</b>. This will clear out any partitions on the drive.
<li>Type <b>p</b> to list partitions. There should be no partitions left.
<li>Now type <b>n</b>, then <b>p</b> for primary, <b>1</b> for the first partition on the drive, and then press ENTER twice to accept the default sectors.
<li>Write the partition table and exit by typing <b>w</b>.</ol>
<li>Create and mount the ext4 filesystem:
<pre>mkfs.ext4 /dev/mmcblkXp1
mkdir mnt
mount /dev/mmcblkXp1 mnt</pre>
<li>Download and extract the root filesystem (as root, not via sudo):
<pre>curl -OL http://os.archlinuxarm.org/os/ArchLinuxARM-mmp-latest.tar.gz
bsdtar -xpf ArchLinuxARM-mmp-latest.tar.gz -C mnt
umount mnt</pre>
<li>Reboot by typing <i>reboot</i>, and interrupt the U-Boot auto boot.
<li>Set the following environment variables:
<pre>setenv bootargs 'root=/dev/mmcblk0p1 console=ttyS2,115200 uart_dma rootwait rw'
setenv bootcmd 'mmc dev 1; mmc rescan; ext4load mmc 1:1 0x500000 /boot/zImage; bootz 0x0500000'
saveenv</pre>
<li>Remove the USB or micro SD card containing the previous installation.
<li>Reboot the device by typing <i>reset</i>, and the system will reboot into Arch Linux ARM on the internal storage.
<b>Note:</b> Having a micro SD card in one of the external slots at boot will renumber the internal card, and will require changing the bootargs in U-Boot to match.
</ol>

      <hr>
      <p class="small text-center text-muted">Copyright ©2009-2016 Arch Linux ARM<br>
      The registered trademark Linux® is used pursuant to a sublicense from LMI, the exclusive licensee of Linus Torvalds, owner of the mark on a world-wide basis.<br>
      The Arch Linux™ name and logo are used under permission of the Arch Linux Project Lead.<br></p>
    </div>

  </body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-24579207-1', 'auto');
    ga('send', 'pageview');
  </script>
</html>
